<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			body,html{
				margin: 0;
				height: 100%;
			}
			#canvas{
				box-shadow: 4px 4px 12px rgba(0,0,0,0.5);
			}
		</style>
	</head>
	<body>
		<canvas id='canvas'></canvas>
		<script src="../assets/script/utils.js" type="text/javascript"></script>
		<script src="../assets/components/Arrow.js" type="text/javascript"></script>
		<script type="text/javascript">
			 const cnavas=document.getElementById('canvas');
			 const ctx=cnavas.getContext('2d');
			 let W=canvas.width=800;
			 let H=canvas.height=600;
			 //实时获取到 鼠标位置
			 let mouse=C.getOffset(canvas);
			 
			 const arrow=new Arrow({//实例化箭头的类
			 	//画布中心点画剪头
			 	x:W/2,
			 	y:H/2,
			 	w:180,
			 	h:60
			 }).render(ctx);
			 //添加移动事件
			 canvas.onmousemove=()=>{
			 	let dx=mouse.x-arrow.x;
			 	let dy=mouse.y-arrow.y;
			 	arrow.rotation=Math.atan2(dy,dx);
			 	
			 	//清除画布
			 	ctx.clearRect(0,0,W,H);
			 	arrow.render(ctx);
			 }
		</script>
	</body>
</html>
